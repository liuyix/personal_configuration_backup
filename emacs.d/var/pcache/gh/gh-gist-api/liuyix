;; Object gh/gh-gist-api/liuyix
;; EIEIO PERSISTENT OBJECT
(gh-cache "gh/gh-gist-api/liuyix"
  :file "liuyix"
  :entries #s(hash-table size 65 test equal rehash-size 1.5 rehash-threshold 0.8 data (("/users/liuyix/gists" "GET" "518961b9e53cab492b8a913ae8ba7382d4306545") [object pcache-entry "pcache-entry" 1374054300.493567 nil ([object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "sqlite_demo.py" 1531 "https://gist.github.com/raw/6019171/d4d23c00a88588579f107844289400c213a1f6fb/sqlite_demo.py" "#!/usr/bin/python
#-*- encoding:utf-8 -*-

import sqlite3

DBFILE = \"demo.db\"
gConn = None


def init_connection():
    global gConn
    if gConn == None:
        gConn = sqlite3.connect(DBFILE)

def get_connection():
    if gConn == None:
        init_connection()
    return gConn

def close_connection():
    global gConn
    if gConn != None:
        gConn.close()
        gConn = None
    
def get_cursor():
    if gConn == None:
        init_connection()
    return conn.cursor()

def create_table(commit=True):
    #cur = get_cursor()
    get_connection().execute(
        '''CREATE TABLE device
    	(id INTEGER PRIMARY KEY AUTOINCREMENT, name text)'''   
        )

def insert_data(data):
    # dynamically detect parameter type: tuple/list/string
    conn = get_connection()
    INSERT_CMD = \"INSERT INTO device(name) VALUES (?)\"
    do_commit = True
    if type(data) == list:
        conn.executemany(INSERT_CMD, data)
    elif type(data) == tuple:
        conn.execute(INSERT_CMD, data)
    elif type(data) == str:
        conn.execute(INSERT_CMD, (data,))
    else:
        # unkown type
        do_commit = False
        pass
    if do_commit:
        conn.commit()
        
    
    
    
def test_create_insert():

    insert_data('make')
    insert_data(('github', ))
    insert_data([('git', ),('svn',),('hg',)])
    
    cur = get_connection().cursor()
    cur.execute('select name from device')
    print cur.fetchall()

    close_connection()
    
if __name__ == \"__main__\":
    test_create_insert()
    pass
"]) t "python sqlite3 insert demo" "2013-07-17T09:38:07Z" "2013-07-17T09:40:56Z" "https://gist.github.com/6019171.git" "https://gist.github.com/6019171.git" "https://gist.github.com/6019171" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "6019171" "https://api.github.com/gists/6019171" (((url . "https://api.github.com/gists/6019171/356aaef65da44bd08ba8628dbe64a74efd521e9c") (change_status (deletions . 0) (additions . 73) (total . 73)) (committed_at . "2013-07-17T09:38:07Z") (version . "356aaef65da44bd08ba8628dbe64a74efd521e9c") (user (type . "User") (received_events_url . "https://api.github.com/users/liuyix/received_events") (events_url . "https://api.github.com/users/liuyix/events{/privacy}") (repos_url . "https://api.github.com/users/liuyix/repos") (organizations_url . "https://api.github.com/users/liuyix/orgs") (subscriptions_url . "https://api.github.com/users/liuyix/subscriptions") (starred_url . "https://api.github.com/users/liuyix/starred{/owner}{/repo}") (gists_url . "https://api.github.com/users/liuyix/gists{/gist_id}") (following_url . "https://api.github.com/users/liuyix/following{/other_user}") (followers_url . "https://api.github.com/users/liuyix/followers") (html_url . "https://github.com/liuyix") (url . "https://api.github.com/users/liuyix") (gravatar_id . "d4a81d178289db17db041d544529493a") (avatar_url . "https://secure.gravatar.com/avatar/d4a81d178289db17db041d544529493a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png") (id . 680922) (login . "liuyix")))) nil] [object gh-gist-gist "gh-gist-gist" nil t "python sqlite3" "2013-07-17T09:20:44Z" "2013-07-17T09:41:19Z" "https://gist.github.com/6019070.git" "https://gist.github.com/6019070.git" "https://gist.github.com/6019070" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "6019070" "https://api.github.com/gists/6019070" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "learning_argparse.md" 976 "https://gist.github.com/raw/5856067/aad94443027c62e81938824dcfa970c56c8dae3c/learning_argparse.md" nil]) t "Python Tips" "2013-06-25T05:07:22Z" "2013-07-17T09:07:48Z" "https://gist.github.com/5856067.git" "https://gist.github.com/5856067.git" "https://gist.github.com/5856067" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5856067" "https://api.github.com/gists/5856067" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "recover.sh" 112 "https://gist.github.com/raw/5562497/1cfd92455bd90886e1b5af88c605da2d2046422c/recover.sh" nil]) t "Recover grub after installing windows in grub shell" "2013-05-12T05:08:18Z" "2013-05-12T05:08:19Z" "https://gist.github.com/5562497.git" "https://gist.github.com/5562497.git" "https://gist.github.com/5562497" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5562497" "https://api.github.com/gists/5562497" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "splash2_benchmarking.py" 7642 "https://gist.github.com/raw/458136352372c990dc60/91fc236e934fe68037bf07cae3280f14720d71f5/splash2_benchmarking.py" nil]) :json-false "pin splash2 benchmark script" "2013-05-11T08:05:10Z" "2013-05-11T08:05:11Z" "https://gist.github.com/458136352372c990dc60.git" "https://gist.github.com/458136352372c990dc60.git" "https://gist.github.com/458136352372c990dc60" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "458136352372c990dc60" "https://api.github.com/gists/458136352372c990dc60" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "macro.md" 139 "https://gist.github.com/raw/5529798/e5cae7c033ed0279c3dc76da7eb75c870984520e/macro.md" nil]) t "C/C++ Macro string concatenation" "2013-05-07T02:08:31Z" "2013-05-07T02:09:06Z" "https://gist.github.com/5529798.git" "https://gist.github.com/5529798.git" "https://gist.github.com/5529798" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5529798" "https://api.github.com/gists/5529798" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "file_exists.sh" 109 "https://gist.github.com/raw/5523176/584282f236aec644a781c5b399f7a484e047d15b/file_exists.sh" nil]) t "Check if a file exists with wildcard in shell script  
link:http://stackoverflow.com/a/6364244" "2013-05-06T03:12:42Z" "2013-05-06T03:12:43Z" "https://gist.github.com/5523176.git" "https://gist.github.com/5523176.git" "https://gist.github.com/5523176" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5523176" "https://api.github.com/gists/5523176" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "3.read_large_file.md" 715 "https://gist.github.com/raw/5300279/cfaba5a2390429d95c0afe6a598c9a00389132c0/3.read_large_file.md" nil] [object gh-gist-gist-file "gh-gist-gist-file" "2.detect_function_type.md" 137 "https://gist.github.com/raw/5300279/52a306b6875ef192144796297ab5ee059b8f379d/2.detect_function_type.md" nil] [object gh-gist-gist-file "gh-gist-gist-file" "1.call_external_cmd.markdown" 186 "https://gist.github.com/raw/5300279/9308d825dfa0522758adf36772a62383f2d68a8b/1.call_external_cmd.markdown" nil] [object gh-gist-gist-file "gh-gist-gist-file" "0.python_tips_index.md" 80 "https://gist.github.com/raw/5300279/37c12f303a75a003ac8441866b8f08807b14769d/0.python_tips_index.md" nil]) t "Python学习备忘" "2013-04-03T11:05:27Z" "2013-07-16T06:33:32Z" "https://gist.github.com/5300279.git" "https://gist.github.com/5300279.git" "https://gist.github.com/5300279" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5300279" "https://api.github.com/gists/5300279" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "xrange.py" 129 "https://gist.github.com/raw/5298115/1e466373ba2d48aa989ba13cf9ae02274dfe7888/xrange.py" nil]) t "self define python range" "2013-04-03T03:01:00Z" "2013-04-03T03:01:01Z" "https://gist.github.com/5298115.git" "https://gist.github.com/5298115.git" "https://gist.github.com/5298115" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5298115" "https://api.github.com/gists/5298115" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "linux-life-guide.markdown" 197 "https://gist.github.com/raw/5280669/5fb2bc4754ed17794a511690c498aceb42f4b036/linux-life-guide.markdown" nil]) t "Linux日常使用指南" "2013-03-31T14:03:03Z" "2013-03-31T14:03:52Z" "https://gist.github.com/5280669.git" "https://gist.github.com/5280669.git" "https://gist.github.com/5280669" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5280669" "https://api.github.com/gists/5280669" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "reduceCT2.cpp" 2059 "https://gist.github.com/raw/9fbd52771340c6401e6e/9ecba6d947d89500ec6ad666d2e2e44db34bec17/reduceCT2.cpp" nil]) :json-false "reduceCT" "2013-03-11T13:50:45Z" "2013-03-11T13:50:46Z" "https://gist.github.com/9fbd52771340c6401e6e.git" "https://gist.github.com/9fbd52771340c6401e6e.git" "https://gist.github.com/9fbd52771340c6401e6e" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "9fbd52771340c6401e6e" "https://api.github.com/gists/9fbd52771340c6401e6e" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "reduceCT.cpp" 650 "https://gist.github.com/raw/5d370c63964445b3ceca/fd4bff218d19ce8bd8a4e76a7f5150106da9cbe3/reduceCT.cpp" nil]) :json-false "reduceCT" "2013-03-11T12:00:50Z" "2013-03-11T12:06:16Z" "https://gist.github.com/5d370c63964445b3ceca.git" "https://gist.github.com/5d370c63964445b3ceca.git" "https://gist.github.com/5d370c63964445b3ceca" 1 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5d370c63964445b3ceca" "https://api.github.com/gists/5d370c63964445b3ceca" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "test.md" 58 "https://gist.github.com/raw/8d2938fa3070431ef217/5ea5610aa42b8cafb3718bee9dfe743f1db4021a/test.md" nil]) :json-false "Test Markdown" "2013-03-06T05:45:38Z" "2013-03-06T08:08:42Z" "https://gist.github.com/8d2938fa3070431ef217.git" "https://gist.github.com/8d2938fa3070431ef217.git" "https://gist.github.com/8d2938fa3070431ef217" 13 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "8d2938fa3070431ef217" "https://api.github.com/gists/8d2938fa3070431ef217" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "ped.cpp" 900 "https://gist.github.com/raw/5096778/86642dbecb3237fd51faddf8acfb6d23fc2b697f/ped.cpp" nil]) t "" "2013-03-06T04:45:22Z" "2013-03-06T04:45:23Z" "https://gist.github.com/5096778.git" "https://gist.github.com/5096778.git" "https://gist.github.com/5096778" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "5096778" "https://api.github.com/gists/5096778" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "floorLog2.c" 322 "https://gist.github.com/raw/4529694/5a7d328ef855118f1f5d04b024b138999e52845f/floorLog2.c" nil]) t "simple log 2 calculation implement (from pintool demo)" "2013-01-14T12:20:17Z" "2013-01-14T12:20:18Z" "https://gist.github.com/4529694.git" "https://gist.github.com/4529694.git" "https://gist.github.com/4529694" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "4529694" "https://api.github.com/gists/4529694" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" ".gitconfig" 209 "https://gist.github.com/raw/3182231/c40b28efb059a302a26ff67c4cbac410911cb179/.gitconfig" nil]) t "Github via goagent" "2012-07-26T14:08:31Z" "2012-07-26T14:08:31Z" "https://gist.github.com/3182231.git" "https://gist.github.com/3182231.git" "https://gist.github.com/3182231" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "3182231" "https://api.github.com/gists/3182231" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "android_whole_contacts_phones.java" 385 "https://gist.github.com/raw/2863773/c219d121cb08b1576d130883cb5aa43b67cfb23a/android_whole_contacts_phones.java" nil]) t "getting whole phone numbers and names of contacts in android | [Chinese] 获得所有联系人名字和号码" "2012-06-03T14:38:30Z" "2012-06-03T14:38:30Z" "https://gist.github.com/2863773.git" "https://gist.github.com/2863773.git" "https://gist.github.com/2863773" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "2863773" "https://api.github.com/gists/2863773" nil nil])] ("/gists/6019171" "GET" "826ad72b99a0ab6265350f353e9c9ff74521cee4") [object pcache-entry "pcache-entry" 1374054320.395746 nil [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "sqlite_demo.py" 1531 "https://gist.github.com/raw/6019171/d4d23c00a88588579f107844289400c213a1f6fb/sqlite_demo.py" "#!/usr/bin/python
#-*- encoding:utf-8 -*-

import sqlite3

DBFILE = \"demo.db\"
gConn = None


def init_connection():
    global gConn
    if gConn == None:
        gConn = sqlite3.connect(DBFILE)

def get_connection():
    if gConn == None:
        init_connection()
    return gConn

def close_connection():
    global gConn
    if gConn != None:
        gConn.close()
        gConn = None
    
def get_cursor():
    if gConn == None:
        init_connection()
    return conn.cursor()

def create_table(commit=True):
    #cur = get_cursor()
    get_connection().execute(
        '''CREATE TABLE device
    	(id INTEGER PRIMARY KEY AUTOINCREMENT, name text)'''   
        )

def insert_data(data):
    # dynamically detect parameter type: tuple/list/string
    conn = get_connection()
    INSERT_CMD = \"INSERT INTO device(name) VALUES (?)\"
    do_commit = True
    if type(data) == list:
        conn.executemany(INSERT_CMD, data)
    elif type(data) == tuple:
        conn.execute(INSERT_CMD, data)
    elif type(data) == str:
        conn.execute(INSERT_CMD, (data,))
    else:
        # unkown type
        do_commit = False
        pass
    if do_commit:
        conn.commit()
        
    
    
    
def test_create_insert():

    insert_data('make')
    insert_data(('github', ))
    insert_data([('git', ),('svn',),('hg',)])
    
    cur = get_connection().cursor()
    cur.execute('select name from device')
    print cur.fetchall()

    close_connection()
    
if __name__ == \"__main__\":
    test_create_insert()
    pass
"]) t "python sqlite3 insert demo" "2013-07-17T09:38:07Z" "2013-07-17T09:40:56Z" "https://gist.github.com/6019171.git" "https://gist.github.com/6019171.git" "https://gist.github.com/6019171" 0 [object gh-user "gh-user" "liuyix" 680922 nil "https://api.github.com/users/liuyix"] "6019171" "https://api.github.com/gists/6019171" (((url . "https://api.github.com/gists/6019171/356aaef65da44bd08ba8628dbe64a74efd521e9c") (change_status (deletions . 0) (additions . 73) (total . 73)) (committed_at . "2013-07-17T09:38:07Z") (version . "356aaef65da44bd08ba8628dbe64a74efd521e9c") (user (type . "User") (received_events_url . "https://api.github.com/users/liuyix/received_events") (events_url . "https://api.github.com/users/liuyix/events{/privacy}") (repos_url . "https://api.github.com/users/liuyix/repos") (organizations_url . "https://api.github.com/users/liuyix/orgs") (subscriptions_url . "https://api.github.com/users/liuyix/subscriptions") (starred_url . "https://api.github.com/users/liuyix/starred{/owner}{/repo}") (gists_url . "https://api.github.com/users/liuyix/gists{/gist_id}") (following_url . "https://api.github.com/users/liuyix/following{/other_user}") (followers_url . "https://api.github.com/users/liuyix/followers") (html_url . "https://github.com/liuyix") (url . "https://api.github.com/users/liuyix") (gravatar_id . "d4a81d178289db17db041d544529493a") (avatar_url . "https://secure.gravatar.com/avatar/d4a81d178289db17db041d544529493a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png") (id . 680922) (login . "liuyix")))) nil]]))
  :timestamp 1374058777.12714
  )
